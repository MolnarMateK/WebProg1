<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML5 API-k</title>
    <link rel="stylesheet" href="styles.css">
    <script src="html5.js" defer></script>
</head>
<body>
    <header>
        <h1>Web-programozás-1 Előadás Feladat</h1>
    </header>

    <nav>
        <ul>
            <li><a href="index.html">Főoldal</a></li>
            <li><a href="tabla.html">Táblázat</a></li>
            <li><a href="html5.html" class="active">HTML5</a></li>
            <li><a href="chartjs.html">ChartJS</a></li>
            <li><a href="ajax.html">AJAX</a></li>
            <li><a href="oojs.html">OOJS</a></li>
        </ul>
    </nav>

    <div class="content">
        <h2>HTML5 API-k példái</h2>

        <section id="web-workers">
            <h3>Web Workers</h3>
            <button onclick="startWorker()">Indítás</button>
            <button onclick="stopWorker()">Leállítás</button>
            <p id="workerOutput">Számolás: <span id="counter">0</span></p>
        </section>

        <section id="drag-drop">
            <h3>Drag & Drop API</h3>
            <div id="dragItem" draggable="true" ondragstart="drag(event)">Húzz engem!</div>
            <div id="dropZone" ondragover="allowDrop(event)" ondrop="drop(event)">Dobd ide!</div>
        </section>

        <div style="height: 50px;"></div>

        <section id="canvas">
            <h3>Canvas</h3>
            <canvas id="myCanvas" width="300" height="150"></canvas>
            <button onclick="drawOnCanvas()">Rajzolás</button>
        </section>

        <section id="svg">
            <h3>SVG</h3>
            <svg width="200" height="100">
                <circle cx="100" cy="50" r="40" fill="blue"/>
            </svg>
        </section>
    </div>

    <footer>
        <p>Készítette: <b>Molnár Máté</b> | Neptun kód: <b>HV1WUV</b></p>
    </footer>

    <script>
        var worker;
        function startWorker() {
            if (typeof(Worker) !== "undefined") {
                worker = new Worker("worker.js");
                worker.onmessage = function(event) {
                    document.getElementById("counter").innerText = event.data;
                };
            }
        }
        function stopWorker() {
            if (worker) {
                worker.terminate();
                worker = undefined;
            }
        }

        function allowDrop(event) {
            event.preventDefault();
        }
        function drag(event) {
            event.dataTransfer.setData("text", event.target.id);
        }
        function drop(event) {
            event.preventDefault();
            var data = event.dataTransfer.getData("text");
            event.target.appendChild(document.getElementById(data));
        }

        function drawOnCanvas() {
            var canvas = document.getElementById("myCanvas");
            var ctx = canvas.getContext("2d");
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.beginPath();
            ctx.arc(150, 75, 50, 0, Math.PI * 2);
            ctx.fillStyle = "red";
            ctx.fill();
        }
    </script>
</body>
</html>
